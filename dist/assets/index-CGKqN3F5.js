import{r as h,d as y,I as k,a as O,b as $,c as I,e as F,o as B,f as C,w as c,g as r,h as f,i as a,j as d,t as v,n as V,k as P,F as E,l as Y,m as R,p as N,q as j,s as z,u as U,v as K,x as W,y as H,S as G,z as q,A as J,B as Q,C as X,D as Z,E as x,G as ee,H as ne,J as te,K as oe,L as se,_ as S,M as re,N as ae}from"./vendor-DiI8fGuu.js";function Te(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))p(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&p(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function p(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();const b={bitcoinHoldings:h(ie()),percentChanges:h({"1h":0,"12h":0,"24h":0,"7d":0,"30d":0,"180d":0,"1y":0,"3y":0,"5y":0,ytd:0}),async getBitcoinPrice(){try{return(await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd")).json()).bitcoin.usd}catch(e){return console.error("Error fetching Bitcoin price:",e),0}},async getBitcoinPercentChanges(){var e;try{const i=await(await fetch("https://api.coingecko.com/api/v3/coins/bitcoin?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false")).json(),p=i.market_data.price_change_percentage_24h_in_currency.usd/2,_={"1h":i.market_data.price_change_percentage_1h_in_currency.usd,"12h":p,"24h":i.market_data.price_change_percentage_24h_in_currency.usd,"7d":i.market_data.price_change_percentage_7d_in_currency.usd,"30d":i.market_data.price_change_percentage_30d_in_currency.usd,"180d":((e=i.market_data.price_change_percentage_200d_in_currency)==null?void 0:e.usd)||0,ytd:40.5,"1y":120.5,"3y":280.4,"5y":450.7};return this.percentChanges.value=_,_}catch(n){return console.error("Error fetching Bitcoin percentage changes:",n),this.percentChanges.value}},updateBitcoinHoldings(e){localStorage.setItem("bitcoin-holdings",e.toString()),this.bitcoinHoldings.value=e},getHoldings(){return this.bitcoinHoldings}};function ie(){const e=localStorage.getItem("bitcoin-holdings");return e?parseFloat(e):0}const ce=y({name:"PricePage",components:{IonContent:I,IonPage:$,IonRefresher:O,IonRefresherContent:k},setup(){const e=h(0),n=h("price"),i=b.bitcoinHoldings,p=F(()=>{const l=e.value*i.value;return Math.round(l)}),o=async()=>{const l=await b.getBitcoinPrice();e.value=Math.round(l)},s=async l=>{await o(),l.target.complete()},u=()=>{n.value=n.value==="price"?"holdings":"price"},t=l=>Math.round(l).toLocaleString("en-US"),_=l=>l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:8});return B(()=>{o()}),{bitcoinPrice:e,bitcoinHoldings:i,holdingsValue:p,viewMode:n,refreshPrice:s,toggleView:u,formatWholeDollar:t,formatBitcoin:_}}}),M="/bitcoin-tracker/assets/bitcoin-logo-subtle-BbFxUG2M.svg",w=(e,n)=>{const i=e.__vccOpts||e;for(const[p,o]of n)i[p]=o;return i},le={class:"center-content"},ue={class:"display-container"},de={class:"price"},pe={class:"holdings-wrapper"};function _e(e,n,i,p,o,s){const u=r("ion-refresher-content"),t=r("ion-refresher"),_=r("ion-content"),l=r("ion-page");return f(),C(l,null,{default:c(()=>[a(_,{fullscreen:!0,class:"bitcoin-bg"},{default:c(()=>[a(t,{slot:"fixed",onIonRefresh:n[0]||(n[0]=g=>e.refreshPrice(g))},{default:c(()=>[a(u)]),_:1}),d("div",le,[d("div",{class:"logo-container",onClick:n[1]||(n[1]=(...g)=>e.toggleView&&e.toggleView(...g))},n[3]||(n[3]=[d("img",{src:M,alt:"Bitcoin",class:"bitcoin-logo"},null,-1)])),d("div",ue,[d("div",{class:"price-container",onClick:n[2]||(n[2]=(...g)=>e.toggleView&&e.toggleView(...g))},[d("p",de,"$"+v(e.formatWholeDollar(e.viewMode==="price"?e.bitcoinPrice:e.holdingsValue)),1),d("div",pe,[d("p",{class:V(["holdings",{visible:e.viewMode==="holdings"}])},v(e.formatBitcoin(e.bitcoinHoldings))+" BTC ",3)])])])])]),_:1})]),_:1})}const A=w(ce,[["render",_e],["__scopeId","data-v-9bbc0547"]]),ge=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"})),he=y({name:"ChangePage",components:{IonContent:I,IonPage:$,IonRefresher:O,IonRefresherContent:k},setup(){const e=h(b.percentChanges.value),n=h(!0),i=async()=>{try{await b.getBitcoinPercentChanges(),e.value=b.percentChanges.value,n.value=!1}catch(t){console.error("Error in component fetching percentage changes:",t),n.value=!1}},p=async t=>{await i(),t.target.complete()},o=t=>{switch(t){case"1h":return"1 Hour";case"12h":return"12 Hours";case"24h":return"1 Day";case"7d":return"1 Week";case"30d":return"1 Month";case"180d":return"6 Months";case"1y":return"1 Year";case"3y":return"3 Years";case"5y":return"5 Years";case"ytd":return"YTD";case"genesis":return"Genesis";default:return t}},s=t=>{if(t>1e4)return"+".concat(Math.round(t/1e3),"K%");if(t>1e3)return"+".concat((t/1e3).toFixed(1),"K%");const _=t>=0?"+":"";return"".concat(_).concat(t.toFixed(2),"%")},u=t=>t>=0?"positive":"negative";return B(()=>{i()}),{percentChanges:e,isLoading:n,refreshData:p,formatPeriod:o,formatPercentage:s,getChangeClass:u}}}),me={class:"center-content"},fe={class:"changes-container"},be={class:"period"};function ve(e,n,i,p,o,s){const u=r("ion-refresher-content"),t=r("ion-refresher"),_=r("ion-content"),l=r("ion-page");return f(),C(l,null,{default:c(()=>[a(_,{fullscreen:!0,class:"bitcoin-bg"},{default:c(()=>[a(t,{slot:"fixed",onIonRefresh:n[0]||(n[0]=g=>e.refreshData(g))},{default:c(()=>[a(u)]),_:1}),d("div",me,[n[1]||(n[1]=d("div",{class:"logo-container"},[d("img",{src:M,alt:"Bitcoin",class:"bitcoin-logo"})],-1)),d("div",fe,[(f(!0),P(E,null,Y(e.percentChanges,(g,m)=>(f(),P("div",{class:"change-row",key:m},[d("div",be,v(e.formatPeriod(m)),1),d("div",{class:V(["change",e.getChangeClass(g)])},v(e.formatPercentage(g)),3)]))),128))])])]),_:1})]),_:1})}const ye=w(he,[["render",ve],["__scopeId","data-v-2fa7bb36"]]),Ce=y({name:"HoldingsPage",components:{IonContent:I,IonPage:$,IonButton:z,IonItem:j,IonInput:N,IonLabel:R},setup(){const e=h(0),n=h(0),i=()=>{e.value<0&&(e.value=0)},p=async()=>{b.updateBitcoinHoldings(e.value),await(await K.create({message:"Saved",duration:1500,color:"dark",position:"bottom"})).present()},o=s=>s.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:8});return B(()=>{n.value=b.bitcoinHoldings.value,e.value=n.value}),U(b.bitcoinHoldings,s=>{n.value=s}),{bitcoinAmount:e,currentHoldings:n,onAmountChange:i,saveHoldings:p,formatBitcoin:o}}}),we={class:"center-content"},$e={class:"holdings-container"},Pe={class:"input-wrapper"},Ie={key:0,class:"current-holdings"};function Be(e,n,i,p,o,s){const u=r("ion-label"),t=r("ion-input"),_=r("ion-item"),l=r("ion-button"),g=r("ion-content"),m=r("ion-page");return f(),C(m,null,{default:c(()=>[a(g,{fullscreen:!0,class:"bitcoin-bg"},{default:c(()=>[d("div",we,[d("div",$e,[d("div",Pe,[a(_,{class:"bitcoin-input"},{default:c(()=>[a(u,{position:"stacked"},{default:c(()=>n[1]||(n[1]=[H("BTC Amount")])),_:1}),a(t,{type:"number",modelValue:e.bitcoinAmount,"onUpdate:modelValue":n[0]||(n[0]=T=>e.bitcoinAmount=T),onIonChange:e.onAmountChange},null,8,["modelValue","onIonChange"])]),_:1})]),a(l,{expand:"block",onClick:e.saveHoldings},{default:c(()=>n[2]||(n[2]=[H("Save")])),_:1},8,["onClick"]),e.currentHoldings>0?(f(),P("div",Ie,[d("p",null,v(e.formatBitcoin(e.currentHoldings))+" BTC",1)])):W("",!0)])])]),_:1})]),_:1})}const D=w(Ce,[["render",Be],["__scopeId","data-v-c2fdd7b6"]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"})),Se=y({name:"App",components:{IonApp:J,Swiper:q,SwiperSlide:G,PricePage:A,ChangePage:ye,HoldingsPage:D},setup(){return{swiper:h(null),swiperOptions:{initialSlide:0,speed:400,spaceBetween:0}}}});function ke(e,n,i,p,o,s){const u=r("price-page"),t=r("swiper-slide"),_=r("change-page"),l=r("holdings-page"),g=r("swiper"),m=r("ion-app");return f(),C(m,null,{default:c(()=>[a(g,{options:e.swiperOptions,ref:"swiper"},{default:c(()=>[a(t,null,{default:c(()=>[a(u)]),_:1}),a(t,null,{default:c(()=>[a(_)]),_:1}),a(t,null,{default:c(()=>[a(l)]),_:1})]),_:1},8,["options"])]),_:1})}const Oe=w(Se,[["render",ke]]),Ve=y({name:"Tabs",components:{IonTabs:ee,IonTabBar:x,IonTabButton:Z,IonIcon:X,IonPage:$,IonRouterOutlet:Q},setup(){return{cashOutline:te,walletOutline:ne}}});function Me(e,n,i,p,o,s){const u=r("ion-router-outlet"),t=r("ion-icon"),_=r("ion-tab-button"),l=r("ion-tab-bar"),g=r("ion-tabs"),m=r("ion-page");return f(),C(m,null,{default:c(()=>[a(g,null,{default:c(()=>[a(u),a(l,{slot:"bottom"},{default:c(()=>[a(_,{tab:"price",href:"/tabs/price"},{default:c(()=>[a(t,{icon:e.cashOutline},null,8,["icon"])]),_:1}),a(_,{tab:"holdings",href:"/tabs/holdings"},{default:c(()=>[a(t,{icon:e.walletOutline},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})}const Ae=w(Ve,[["render",Me],["__scopeId","data-v-8479cce6"]]),De=[{path:"/",redirect:"/tabs/price"},{path:"/tabs/",component:Ae,children:[{path:"",redirect:"/tabs/price"},{path:"price",component:()=>S(()=>Promise.resolve().then(()=>ge),[])},{path:"holdings",component:()=>S(()=>Promise.resolve().then(()=>He),void 0)}]}],L=oe({history:se(""),routes:De}),Le=re(Oe).use(ae).use(L);L.isReady().then(()=>{Le.mount("#app")});export{Te as __vite_legacy_guard};
